_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[11],{"38tU":function(t,e,n){"use strict";var r=n("nKUr"),i=n("Bihf"),c=n.n(i),o=n("UbMB"),s=n.n(o).a.bind(c.a);e.a=function(t){return Object(r.jsx)("div",{className:s("contents"),children:t.children})}},"4ODT":function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/bubbleChart",function(){return n("d36R")}])},Bihf:function(t,e,n){t.exports={contents:"contents_contents__2RZDA"}},LLyK:function(t,e,n){t.exports={hidden:"bubbleChart_hidden__1XmSu",textEmphasis:"bubbleChart_textEmphasis__1Z_GG",wrap:"bubbleChart_wrap__1DqYm",tooltipWrap:"bubbleChart_tooltipWrap__rsgTJ",scale:"bubbleChart_scale__I2Lff",btn:"bubbleChart_btn__15cc5"}},Qetd:function(t,e,n){"use strict";var r=Object.assign.bind(Object);t.exports=r,t.exports.default=t.exports},UbMB:function(t,e,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var c=typeof r;if("string"===c||"number"===c)t.push(this&&this[r]||r);else if(Array.isArray(r))t.push(i.apply(this,r));else if("object"===c)for(var o in r)n.call(r,o)&&r[o]&&t.push(this&&this[o]||o)}}return t.join(" ")}t.exports?(i.default=i,t.exports=i):void 0===(r=function(){return i}.apply(e,[]))||(t.exports=r)}()},Z5kR:function(t,e,n){"use strict";var r=n("nKUr");e.a=function(t){return Object(r.jsx)("div",{className:"layout",children:t.children})}},d36R:function(t,e,n){"use strict";n.r(e);var r=n("nKUr"),i=n("38tU"),c=n("Z5kR"),o=n("q1tI"),s=n("LLyK"),a=n.n(s),u=n("UbMB"),l=n.n(u).a.bind(a.a),f=Object.freeze({x:0,y:0});function x(t,e){return{x:t.x-e.x,y:t.y-e.y}}function b(t,e){return{x:t.x+e.x,y:t.y+e.y}}var v=function(t){var e=t.canvasWidth,n=t.canvasHeight,i=t.chartDataList,c=Object(o.useRef)(null),s=Object(o.useState)(null),a=s[0],u=s[1],v=Object(o.useState)(1),h=v[0],p=v[1],j=Object(o.useState)(f),y=j[0],d=j[1],O=Object(o.useState)(f),m=O[0],_=O[1],E=Object(o.useState)(f),w=E[0],T=E[1],g=Object(o.useState)(Object(r.jsx)(r.Fragment,{})),L=g[0],C=g[1],D=Object(o.useState)({x:"0px",y:"0px"}),M=D[0],N=D[1],R=Object(o.useRef)(!1),S=Object(o.useRef)(f),P=Object(o.useRef)(f);Object(o.useEffect)((function(){P.current=y}),[y]),Object(o.useEffect)((function(){var t=c.current;if(null!==t)return t.addEventListener("mousemove",e),t.addEventListener("wheel",e),function(){t.removeEventListener("mousemove",e),t.removeEventListener("wheel",e)};function e(t){if(t.preventDefault(),c.current){var e={x:t.offsetX,y:t.offsetY},n={x:c.current.offsetLeft,y:c.current.offsetTop};_(x(e,n))}}}),[]),Object(o.useEffect)((function(){var t=c.current;if(null!==t)return t.addEventListener("wheel",e),function(){return t.removeEventListener("wheel",e)};function e(t){if(t.preventDefault(),a){var e=1-t.deltaY/500;if(h*e<.3)return;if(h*e>3)return;var n={x:m.x/h*(1-1/e),y:m.y/h*(1-1/e)},r=b(w,n);a.translate(w.x,w.y),a.scale(e,e),a.translate(-r.x,-r.y),T(r),p(h*e),R.current=!1}}}),[a,m.x,m.y,w,h]),Object(o.useLayoutEffect)((function(){if(c){var t=c.current.getContext("2d");t&&U(t)}}),[n,e,i]),Object(o.useLayoutEffect)((function(){if(a&&P.current){var t=function(t,e){return{x:t.x/e,y:t.y/e}}(x(y,P.current),h);a.translate(t.x,t.y),T((function(e){return x(e,t)})),R.current=!1}}),[a,y,h]),Object(o.useLayoutEffect)((function(){if(a){var t=a.getTransform();a.canvas.width=a.canvas.width,a.setTransform(t),k(),A(),F()}}),[e,n,i,a,h,y,w]);var k=function(){var t=110,r=Math.floor(20*e/t)-2,i=Math.floor(20*n/t)-2,c=e-r*t,o=n-i*t,s=Math.ceil(c/2)-.5,u=Math.ceil(o/2)-.5,l=e-r*t-s,f=n-i*t-u;a.strokeStyle="lightgrey",a.beginPath();for(var x=s;x<=e-l;x+=t)a.moveTo(x,u),a.lineTo(x,n-f);for(var b=u;b<=n-f;b+=t)a.moveTo(s,b),a.lineTo(e-l,b);a.stroke()},A=function(){i&&i.forEach((function(t){var e=t.point,n=e.x,r=e.y,i=t.r,c=t.fill;a.beginPath(),a.arc(n,r,i,0,2*Math.PI),a.fillStyle=c,a.fill()}))},F=function(){},U=function(t){!t&&R.current||(t.canvas.width=1*e,t.canvas.height=1*n,t.scale(1,1),p(1),u(t),d(f),_(f),T(f),P.current=f,S.current=f,R.current=!0)},X=function(t){if(a){var e=S.current,n={x:t.offsetX,y:t.offsetY};S.current=n;var r=x(n,e);d((function(t){return b(t,r)}))}},W=function t(){c.current.style.cursor="crosshair",document.removeEventListener("mousemove",X),document.removeEventListener("mouseup",t)};return Object(r.jsxs)("div",{className:l("wrap"),style:{width:1*e},children:[Object(r.jsx)("canvas",{onMouseMove:function(t){a&&i&&(C(null),i.forEach((function(e){var n=e.point,r=n.x,i=n.y,c=e.r,o=e.toolTip,s=new Path2D;if(s.arc(r,i,c,0,2*Math.PI),a.isPointInPath(s,t.nativeEvent.offsetX,t.nativeEvent.offsetY))return N({x:"".concat(t.nativeEvent.offsetX-140,"px"),y:"".concat(t.nativeEvent.offsetY-60,"px")}),void C(o)})))},onMouseDown:function(t){c.current.style.cursor="grabbing",document.addEventListener("mousemove",X),document.addEventListener("mouseup",W),S.current={x:t.nativeEvent.offsetX,y:t.nativeEvent.offsetY}},ref:c,width:1*e,height:1*n,style:{cursor:"crosshair",width:"".concat(e,"px"),height:"".concat(n,"px")}}),Object(r.jsx)("div",{className:l("tooltipWrap"),style:{transform:"translate(".concat(M.x,", ").concat(M.y,")")},children:L}),Object(r.jsxs)("span",{className:l("scale"),children:["scale: ",h.toFixed(2)]}),Object(r.jsx)("button",{className:l("btn"),onClick:function(){return a&&U(a)},children:"Reset"})]})},h=function(t){var e=t.title;return Object(r.jsx)("div",{style:{background:"#fff",borderRadius:"5px",padding:"10px 20px",fontSize:"14px",fontWeight:700},children:e})};e.default=function(){return Object(r.jsx)(c.a,{children:Object(r.jsxs)(i.a,{children:[Object(r.jsx)(v,{canvasWidth:1120,canvasHeight:500,chartDataList:[{point:{x:260,y:450},r:20,fill:"#FFD400",title:"111",toolTip:Object(r.jsx)(h,{title:"x: 260, y: 450"})},{point:{x:360,y:400},r:10,fill:"#00A963",title:"111",toolTip:Object(r.jsx)(h,{title:"x: 360, y: 400"})},{point:{x:460,y:300},r:15,fill:"#FB3738",title:"111",toolTip:Object(r.jsx)(h,{title:"x: 460, y: 300"})},{point:{x:560,y:250},r:40,fill:"#0083A5",title:"111",toolTip:Object(r.jsx)(h,{title:"x: 560, y: 250"})},{point:{x:660,y:200},r:32,fill:"#F69453",title:"222",toolTip:Object(r.jsx)(h,{title:"x: 660, y: 200"})},{point:{x:760,y:170},r:16,fill:"#FFD400",title:"222",toolTip:Object(r.jsx)(h,{title:"x: 760, y: 170"})},{point:{x:860,y:175},r:22,fill:"#00A963",title:"222",toolTip:Object(r.jsx)(h,{title:"x: 860, y: 175"})},{point:{x:960,y:100},r:31,fill:"#0083A5",title:"222",toolTip:Object(r.jsx)(h,{title:"x: 960, y: 100"})}]}),Object(r.jsx)(v,{canvasWidth:700,canvasHeight:500,chartDataList:[{point:{x:240,y:350},r:40,fill:"#CCC",title:"111",toolTip:Object(r.jsx)(h,{title:"x: 240, y: 350"})},{point:{x:360,y:300},r:10,fill:"#CCC",title:"111",toolTip:Object(r.jsx)(h,{title:"x: 360, y: 300"})},{point:{x:460,y:200},r:45,fill:"#00A963",title:"111",toolTip:Object(r.jsx)(h,{title:"x: 460, y: 200"})}]})]})})}}},[["4ODT",0,1]]]);