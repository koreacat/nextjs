_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[15],{"38tU":function(e,t,n){"use strict";var r=n("nKUr"),o=n("Bihf"),a=n.n(o),i=n("UbMB"),c=n.n(i).a.bind(a.a);t.a=function(e){return Object(r.jsx)("div",{className:c("contents"),children:e.children})}},Bihf:function(e,t,n){e.exports={contents:"contents_contents__2RZDA"}},Qetd:function(e,t,n){"use strict";var r=Object.assign.bind(Object);e.exports=r,e.exports.default=e.exports},REZm:function(e,t,n){e.exports={wrap:"imageCrop_wrap__1KkLw",cropArea:"imageCrop_cropArea__34F3E",imgArea:"imageCrop_imgArea__3TSYh",imgBox:"imageCrop_imgBox__1DpaO",dimmedBox:"imageCrop_dimmedBox__Ljad8",cropBox:"imageCrop_cropBox__32w2s",viewBox:"imageCrop_viewBox__1NPLW",viewImg:"imageCrop_viewImg__2yNIO",dash:"imageCrop_dash__1k5qe",w:"imageCrop_w__3wDdG",h:"imageCrop_h__2SQGo",cross:"imageCrop_cross__3E83l",moveBox:"imageCrop_moveBox__1ARXf",line:"imageCrop_line__3pgnf",n:"imageCrop_n__SHC68",e:"imageCrop_e__2jt7w",s:"imageCrop_s__1S21u",point:"imageCrop_point__1sRRv",nw:"imageCrop_nw__nccC3",ne:"imageCrop_ne__2r6NJ",se:"imageCrop_se__1HLvC",sw:"imageCrop_sw__1Y9E7",cropBoxInfo:"imageCrop_cropBoxInfo__3dM_C",btn:"imageCrop_btn__2xzdA",btnChoice:"imageCrop_btnChoice__1un7P"}},UbMB:function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(this&&this[r]||r);else if(Array.isArray(r))e.push(o.apply(this,r));else if("object"===a)for(var i in r)n.call(r,i)&&r[i]&&e.push(this&&this[i]||i)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},VFRM:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/imageCrop",function(){return n("r9nI")}])},Z5kR:function(e,t,n){"use strict";var r=n("nKUr");t.a=function(e){return Object(r.jsx)("div",{className:"layout",children:e.children})}},r9nI:function(e,t,n){"use strict";n.r(t);var r=n("nKUr"),o=n("38tU"),a=n("Z5kR"),i=n("q1tI");function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s,u=Object.freeze({x:0,y:0}),m=Object.freeze({w:0,h:0});!function(e){e.e="e",e.w="w",e.s="s",e.n="n",e.se="se",e.sw="sw",e.ne="ne",e.nw="nw"}(s||(s={}));var p,h=["e","w","s","n"],x=function(e){if(Array.isArray(e))return c(e)}(p=Object.keys(s))||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(p)||function(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();function f(e,t,n){return Math.min(Math.max(e,t),n)}var w=n("REZm"),d=n.n(w),l=n("UbMB"),g=n.n(l),_=g.a.bind(d.a),v=function(e){var t=e.wrapRef,n=e.imgSize,o=e.setOffset,a=e.setCropBoxSize;return Object(r.jsx)("div",{className:_("dimmedBox"),onMouseDown:function(e){e.preventDefault();var r=e.pageX,i=e.pageY,c=function(e){o({x:r-t.current.offsetLeft,y:i-t.current.offsetTop}),a({w:0,h:0});var c=e.pageX-r,s=e.pageY-i,u=r-t.current.offsetLeft,m=i-t.current.offsetTop,p=(c<0?e.pageX:r)-t.current.offsetLeft,h=(s<0?e.pageY:i)-t.current.offsetTop,x=c<0?u:n.w-u,w=s<0?m:n.h-m,d=f(Math.abs(c),0,x),l=f(Math.abs(s),0,w);o({x:Math.max(p,0),y:Math.max(h,0)}),a({w:d,h:l})};document.addEventListener("mousemove",c),document.addEventListener("mouseup",(function e(){document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",e)}))}})},y=g.a.bind(d.a);var b=function(e){var t=e.wrapRef,n=e.imgSrc,o=e.imgSize,a=e.offset,c=e.setOffset,s=e.cropBoxSize,m=e.setCropBoxSize,p=Object(i.useRef)(u),w=function(e){var t,n,r=p.current,a={x:e.clientX,y:e.clientY},i={x:(t=a).x-(n=r).x,y:t.y-n.y};p.current=a,c((function(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=e.x+t.x,c=e.y+t.y;return{x:f(i,n,o),y:f(c,r,a)}}(e,i,0,0,o.w-s.w,o.h-s.h)}))},d=function e(){document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",e)},l=function(e,n){e.preventDefault();var r=a.x+s.w,i=a.x,u=a.y+s.h,p=a.y,h=function(e){var n=e.pageX-t.current.offsetLeft,r=e.pageY-t.current.offsetTop;x({x:f(n,0,o.w),y:f(r,0,o.h)})},x=function(e){var t=!(i+s.w>e.x),o=r-s.w>e.x,h=!(p+s.h>e.y),x=u-s.h>e.y,f=r-s.w-(a.x-e.x),w=i-(a.x-e.x),d=u-s.h-(a.y-e.y),l=p-(a.y-e.y),g=r-s.w-e.x,_=e.x-i-s.w,v=u-s.h-e.y,y=e.y-p-s.h,b=s.w+e.x-r,j=s.w+i-e.x,O=s.h+e.y-u,C=s.h+p-e.y;switch(n){case"e":o?(c({x:f,y:a.y}),m({w:g,h:s.h})):m({w:b,h:s.h});break;case"w":t?m({w:_,h:s.h}):(c({x:w,y:a.y}),m({w:j,h:s.h}));break;case"s":x?(c({x:a.x,y:d}),m({w:s.w,h:v})):m({w:s.w,h:O});break;case"n":h?m({w:s.w,h:y}):(c({x:a.x,y:l}),m({w:s.w,h:C}));break;case"se":x&&o?(c({x:f,y:d}),m({w:g,h:v})):o?(c({x:f,y:a.y}),m({w:g,h:O})):x?(c({x:a.x,y:d}),m({w:b,h:v})):m({w:b,h:O});break;case"sw":x&&t?(c({x:a.x+s.w,y:l}),m({w:_,h:v})):t?m({w:_,h:O}):x?(c({x:w,y:l}),m({w:j,h:v})):(c({x:w,y:a.y}),m({w:j,h:O}));break;case"ne":h&&o?(c({x:f,y:a.y+s.h}),m({w:g,h:y})):o?(c({x:f,y:l}),m({w:g,h:C})):h?m({w:b,h:y}):(c({x:a.x,y:l}),m({w:b,h:C}));break;case"nw":h&&t?m({w:_,h:y}):t?(c({x:a.x+s.w,y:l}),m({w:_,h:C})):h?(c({x:w,y:a.y+s.h}),m({w:j,h:y})):(c({x:w,y:l}),m({w:j,h:C}))}};document.addEventListener("mousemove",h),document.addEventListener("mouseup",(function e(){document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",e)}))};return Object(r.jsxs)("div",{className:y("cropBox"),style:{width:"".concat(s.w,"px"),height:"".concat(s.h,"px"),transform:"translateX(".concat(a.x,"px) translateY(").concat(a.y,"px)")},children:[Object(r.jsx)("span",{className:y("viewBox"),children:Object(r.jsx)("img",{className:y("viewImg"),src:n,style:{width:"".concat(o.w,"px"),height:"".concat(o.h,"px"),transform:"translateX(-".concat(a.x,"px) translateY(-").concat(a.y,"px)")}})}),["w","h"].map((function(e){return Object(r.jsx)("span",{className:y("dash",e)},e)})),Object(r.jsx)("span",{className:y("cross")}),Object(r.jsx)("span",{className:y("moveBox"),onMouseDown:function(e){e.preventDefault(),document.addEventListener("mousemove",w),document.addEventListener("mouseup",d),p.current={x:e.clientX,y:e.clientY}}}),h.map((function(e){return Object(r.jsx)("span",{className:y("line",e),onMouseDown:function(t){return l(t,e)}},e)})),x.map((function(e){return Object(r.jsx)("span",{className:y("point",e),onMouseDown:function(t){return l(t,e)}},e)})),Object(r.jsxs)("span",{className:y("cropBoxInfo"),children:[a.x,", ",a.y,Object(r.jsx)("br",{}),s.w,", ",s.h," (px)"]})]})},j=g.a.bind(d.a),O=function(e){var t=e.imgSrc,n=e.imgName,o=Object(i.useRef)(null),a=Object(i.useState)(m),c=a[0],s=a[1],p=Object(i.useState)(m),h=p[0],x=p[1],f=Object(i.useState)(u),w=f[0],d=f[1];Object(i.useEffect)((function(){l()}),[t]);var l=function(){var e=new Image;e.src=t,e.onload=function(){s({w:e.width,h:e.height}),x({w:e.width/2,h:e.height/2}),d({x:e.width/4,y:e.height/4})}};return t?Object(r.jsxs)("div",{ref:o,className:j("wrap"),style:{width:"".concat(c.w,"px"),height:"".concat(c.h,"px")},children:[Object(r.jsxs)("div",{className:j("cropArea"),children:[Object(r.jsx)("div",{className:j("imgArea"),children:Object(r.jsx)("div",{className:j("imgBox"),children:Object(r.jsx)("img",{className:j("img"),src:t,style:{width:"".concat(c.w,"px"),height:"".concat(c.h,"px")}})})}),Object(r.jsx)(v,{wrapRef:o,imgSize:c,setOffset:d,setCropBoxSize:x}),Object(r.jsx)(b,{wrapRef:o,imgSrc:t,imgSize:c,offset:w,setOffset:d,cropBoxSize:h,setCropBoxSize:x})]}),Object(r.jsx)("a",{className:j("btn"),onClick:function(){var e=document.createElement("canvas"),r=e.getContext("2d"),o=new Image;e.width=h.w,e.height=h.h,o.src=t,o.onload=function(){r.drawImage(o,w.x,w.y,h.w,h.h,0,0,h.w,h.h),function(e){var t=document.createElement("a");t.href=e,t.download=n,t.click(),t.remove(),window.URL.revokeObjectURL(e)}(e.toDataURL())}},children:"download"})]}):null},C=g.a.bind(d.a);t.default=function(){var e=Object(i.useState)("/nextjs/img/matchIntroduce/imgMatch4.png"),t=e[0],n=e[1],c=Object(i.useState)(""),s=c[0],u=c[1];return Object(r.jsx)(a.a,{children:Object(r.jsx)(o.a,{children:Object(r.jsxs)("div",{style:{margin:"50px",paddingBottom:"100px"},children:[Object(r.jsxs)("label",{style:{display:"block",marginBottom:"10px"},children:[Object(r.jsx)("a",{className:C("btnChoice"),children:"select images"}),Object(r.jsx)("input",{style:{display:"none"},type:"file",accept:"image/png, image/jpeg, image/jpg",onChange:function(e){return function(e){if(e){var t=new FileReader;t.readAsDataURL(e),t.onload=function(){n(t.result),u(e.name)}}}(e.target.files[0])}})]}),Object(r.jsx)(O,{imgSrc:t,imgName:s})]})})})}}},[["VFRM",0,1]]]);