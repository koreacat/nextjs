_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[17],{"38tU":function(e,t,n){"use strict";var r=n("nKUr"),o=n("Bihf"),a=n.n(o),c=n("UbMB"),i=n.n(c).a.bind(a.a);t.a=function(e){return Object(r.jsx)("div",{className:i("contents"),children:e.children})}},Bihf:function(e,t,n){e.exports={contents:"contents_contents__2RZDA"}},BsWD:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("a3WO");function o(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},KQm4:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("a3WO");var o=n("BsWD");function a(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(o.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},Qetd:function(e,t,n){"use strict";var r=Object.assign.bind(Object);e.exports=r,e.exports.default=e.exports},REZm:function(e,t,n){e.exports={wrap:"imageCrop_wrap__1KkLw",cropArea:"imageCrop_cropArea__34F3E",imgArea:"imageCrop_imgArea__3TSYh",imgBox:"imageCrop_imgBox__1DpaO",dimmedBox:"imageCrop_dimmedBox__Ljad8",cropBox:"imageCrop_cropBox__32w2s",viewBox:"imageCrop_viewBox__1NPLW",viewImg:"imageCrop_viewImg__2yNIO",dash:"imageCrop_dash__1k5qe",w:"imageCrop_w__3wDdG",h:"imageCrop_h__2SQGo",cross:"imageCrop_cross__3E83l",moveBox:"imageCrop_moveBox__1ARXf",line:"imageCrop_line__3pgnf",n:"imageCrop_n__SHC68",e:"imageCrop_e__2jt7w",s:"imageCrop_s__1S21u",point:"imageCrop_point__1sRRv",nw:"imageCrop_nw__nccC3",ne:"imageCrop_ne__2r6NJ",se:"imageCrop_se__1HLvC",sw:"imageCrop_sw__1Y9E7",cropBoxInfo:"imageCrop_cropBoxInfo__3dM_C",btn:"imageCrop_btn__2xzdA",btnChoice:"imageCrop_btnChoice__1un7P"}},UbMB:function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(this&&this[r]||r);else if(Array.isArray(r))e.push(o.apply(this,r));else if("object"===a)for(var c in r)n.call(r,c)&&r[c]&&e.push(this&&this[c]||c)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},VFRM:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/imageCrop",function(){return n("r9nI")}])},Z5kR:function(e,t,n){"use strict";var r=n("nKUr");t.a=function(e){return Object(r.jsx)("div",{className:"layout",children:e.children})}},a3WO:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},r9nI:function(e,t,n){"use strict";n.r(t);var r,o=n("nKUr"),a=n("38tU"),c=n("Z5kR"),i=n("q1tI"),s=n("KQm4"),u=Object.freeze({x:0,y:0}),m=Object.freeze({w:0,h:0});!function(e){e.e="e",e.w="w",e.s="s",e.n="n",e.se="se",e.sw="sw",e.ne="ne",e.nw="nw"}(r||(r={}));var p=["e","w","s","n"],h=Object(s.a)(Object.keys(r));function f(e,t,n){return Math.min(Math.max(e,t),n)}var x=n("REZm"),w=n.n(x),d=n("UbMB"),l=n.n(d),g=l.a.bind(w.a),v=function(e){var t=e.wrapRef,n=e.imgSize,r=e.setOffset,a=e.setCropBoxSize;return Object(o.jsx)("div",{className:g("dimmedBox"),onMouseDown:function(e){e.preventDefault();var o=e.pageX,c=e.pageY,i=function(e){r({x:o-t.current.offsetLeft,y:c-t.current.offsetTop}),a({w:0,h:0});var i=e.pageX-o,s=e.pageY-c,u=o-t.current.offsetLeft,m=c-t.current.offsetTop,p=(i<0?e.pageX:o)-t.current.offsetLeft,h=(s<0?e.pageY:c)-t.current.offsetTop,x=i<0?u:n.w-u,w=s<0?m:n.h-m,d=f(Math.abs(i),0,x),l=f(Math.abs(s),0,w);r({x:Math.max(p,0),y:Math.max(h,0)}),a({w:d,h:l})};document.addEventListener("mousemove",i),document.addEventListener("mouseup",(function e(){document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",e)}))}})},_=l.a.bind(w.a);var b=function(e){var t=e.wrapRef,n=e.imgSrc,r=e.imgSize,a=e.offset,c=e.setOffset,s=e.cropBoxSize,m=e.setCropBoxSize,x=Object(i.useRef)(u),w=function(e){var t,n,o=x.current,a={x:e.clientX,y:e.clientY},i={x:(t=a).x-(n=o).x,y:t.y-n.y};x.current=a,c((function(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,c=e.x+t.x,i=e.y+t.y;return{x:f(c,n,o),y:f(i,r,a)}}(e,i,0,0,r.w-s.w,r.h-s.h)}))},d=function e(){document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",e)},l=function(e,n){e.preventDefault();var o=a.x+s.w,i=a.x,u=a.y+s.h,p=a.y,h=function(e){var n=e.pageX-t.current.offsetLeft,o=e.pageY-t.current.offsetTop;x({x:f(n,0,r.w),y:f(o,0,r.h)})},x=function(e){var t=!(i+s.w>e.x),r=o-s.w>e.x,h=!(p+s.h>e.y),f=u-s.h>e.y,x=o-s.w-(a.x-e.x),w=i-(a.x-e.x),d=u-s.h-(a.y-e.y),l=p-(a.y-e.y),g=o-s.w-e.x,v=e.x-i-s.w,_=u-s.h-e.y,b=e.y-p-s.h,j=s.w+e.x-o,y=s.w+i-e.x,O=s.h+e.y-u,C=s.h+p-e.y;switch(n){case"e":r?(c({x:x,y:a.y}),m({w:g,h:s.h})):m({w:j,h:s.h});break;case"w":t?m({w:v,h:s.h}):(c({x:w,y:a.y}),m({w:y,h:s.h}));break;case"s":f?(c({x:a.x,y:d}),m({w:s.w,h:_})):m({w:s.w,h:O});break;case"n":h?m({w:s.w,h:b}):(c({x:a.x,y:l}),m({w:s.w,h:C}));break;case"se":f&&r?(c({x:x,y:d}),m({w:g,h:_})):r?(c({x:x,y:a.y}),m({w:g,h:O})):f?(c({x:a.x,y:d}),m({w:j,h:_})):m({w:j,h:O});break;case"sw":f&&t?(c({x:a.x+s.w,y:l}),m({w:v,h:_})):t?m({w:v,h:O}):f?(c({x:w,y:l}),m({w:y,h:_})):(c({x:w,y:a.y}),m({w:y,h:O}));break;case"ne":h&&r?(c({x:x,y:a.y+s.h}),m({w:g,h:b})):r?(c({x:x,y:l}),m({w:g,h:C})):h?m({w:j,h:b}):(c({x:a.x,y:l}),m({w:j,h:C}));break;case"nw":h&&t?m({w:v,h:b}):t?(c({x:a.x+s.w,y:l}),m({w:v,h:C})):h?(c({x:w,y:a.y+s.h}),m({w:y,h:b})):(c({x:w,y:l}),m({w:y,h:C}))}};document.addEventListener("mousemove",h),document.addEventListener("mouseup",(function e(){document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",e)}))};return Object(o.jsxs)("div",{className:_("cropBox"),style:{width:"".concat(s.w,"px"),height:"".concat(s.h,"px"),transform:"translateX(".concat(a.x,"px) translateY(").concat(a.y,"px)")},children:[Object(o.jsx)("span",{className:_("viewBox"),children:Object(o.jsx)("img",{className:_("viewImg"),src:n,style:{width:"".concat(r.w,"px"),height:"".concat(r.h,"px"),transform:"translateX(-".concat(a.x,"px) translateY(-").concat(a.y,"px)")}})}),["w","h"].map((function(e){return Object(o.jsx)("span",{className:_("dash",e)},e)})),Object(o.jsx)("span",{className:_("cross")}),Object(o.jsx)("span",{className:_("moveBox"),onMouseDown:function(e){e.preventDefault(),document.addEventListener("mousemove",w),document.addEventListener("mouseup",d),x.current={x:e.clientX,y:e.clientY}}}),p.map((function(e){return Object(o.jsx)("span",{className:_("line",e),onMouseDown:function(t){return l(t,e)}},e)})),h.map((function(e){return Object(o.jsx)("span",{className:_("point",e),onMouseDown:function(t){return l(t,e)}},e)})),Object(o.jsxs)("span",{className:_("cropBoxInfo"),children:[a.x,", ",a.y,Object(o.jsx)("br",{}),s.w,", ",s.h," (px)"]})]})},j=l.a.bind(w.a),y=function(e){var t=e.imgSrc,n=e.imgName,r=Object(i.useRef)(null),a=Object(i.useState)(m),c=a[0],s=a[1],p=Object(i.useState)(m),h=p[0],f=p[1],x=Object(i.useState)(u),w=x[0],d=x[1];Object(i.useEffect)((function(){l()}),[t]);var l=function(){var e=new Image;e.src=t,e.onload=function(){s({w:e.width,h:e.height}),f({w:e.width/2,h:e.height/2}),d({x:e.width/4,y:e.height/4})}};return t?Object(o.jsxs)("div",{ref:r,className:j("wrap"),style:{width:"".concat(c.w,"px"),height:"".concat(c.h,"px")},children:[Object(o.jsxs)("div",{className:j("cropArea"),children:[Object(o.jsx)("div",{className:j("imgArea"),children:Object(o.jsx)("div",{className:j("imgBox"),children:Object(o.jsx)("img",{className:j("img"),src:t,style:{width:"".concat(c.w,"px"),height:"".concat(c.h,"px")}})})}),Object(o.jsx)(v,{wrapRef:r,imgSize:c,setOffset:d,setCropBoxSize:f}),Object(o.jsx)(b,{wrapRef:r,imgSrc:t,imgSize:c,offset:w,setOffset:d,cropBoxSize:h,setCropBoxSize:f})]}),Object(o.jsx)("a",{className:j("btn"),onClick:function(){var e=document.createElement("canvas"),r=e.getContext("2d"),o=new Image;e.width=h.w,e.height=h.h,o.src=t,o.onload=function(){r.drawImage(o,w.x,w.y,h.w,h.h,0,0,h.w,h.h),function(e){var t=document.createElement("a");t.href=e,t.download=n,t.click(),t.remove(),window.URL.revokeObjectURL(e)}(e.toDataURL())}},children:"download"})]}):null},O=l.a.bind(w.a);t.default=function(){var e=Object(i.useState)("/nextjs/img/matchIntroduce/imgMatch4.png"),t=e[0],n=e[1],r=Object(i.useState)(""),s=r[0],u=r[1];return Object(o.jsx)(c.a,{children:Object(o.jsx)(a.a,{children:Object(o.jsxs)("div",{style:{margin:"50px",paddingBottom:"100px"},children:[Object(o.jsxs)("label",{style:{display:"block",marginBottom:"10px"},children:[Object(o.jsx)("a",{className:O("btnChoice"),children:"select images"}),Object(o.jsx)("input",{style:{display:"none"},type:"file",accept:"image/png, image/jpeg, image/jpg",onChange:function(e){return function(e){if(e){var t=new FileReader;t.readAsDataURL(e),t.onload=function(){n(t.result),u(e.name)}}}(e.target.files[0])}})]}),Object(o.jsx)(y,{imgSrc:t,imgName:s})]})})})}}},[["VFRM",0,1]]]);